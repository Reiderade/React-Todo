{"version":3,"sources":["app/actions/base.js","app/config.js","app/constants.js","app/controller.js","app/dispatcher/dispatcher.js","app/dispatcher/emitter.js","app/extensions/array.js","app/extensions/index.js","app/extensions/string.js","app/initialize.js","app/models/base.js","app/pages/test.jsx","app/routes.jsx","app/stores/base.js","app/stores/index.js","app/utilities/errorHandler.js","app/utilities/validation.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AAAA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzIA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA","file":"public/js/app.js","sourcesContent":["module.exports = function(constants) {\n\tthis.all = function(content) {\n\t\treturn {\n\t\t\ttype: constants.ALL,\n\t\t\tcontent: content\n\t\t};\n\t};\n\t\n\tthis.create = function(content) {\n\t\treturn {\n\t\t\ttype: constants.CREATE,\n\t\t\tcontent: content\n\t\t};\n\t};\n\t\n\tthis.update = function(content) {\n\t\treturn {\n\t\t\ttype: constants.UPDATE,\n\t\t\tcontent: content\n\t\t};\n\t};\n\t\n\tthis.remove = function(content) {\n\t\treturn {\n\t\t\ttype: constants.REMOVE,\n\t\t\tcontent: content\n\t\t};\n\t};\n};","module.exports = {\n\tfixtures: true\n};","module.exports = {\n\tcomponents: {\n\n\t}\n};","/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\"),\n    Management = require(\"pages/management\"),\n    CompanyHierarchies = require(\"pages/companyHierarchies/companyHierarchies\"),\n\tEquipmentProfile = require(\"pages/equipmentProfile/equipmentProfile\");\n\nvar Controller = Backbone.Marionette.Controller.extend({\n    initialize: function (options) {\n        this.container = options.container;\n    },\n\n    management: function () {\n        React.renderComponent(new Management(), this.container);\n    },\n    \n    companyHierarchies: function() {\n        React.renderComponent(new CompanyHierarchies(), this.container);\n    },\n\t\n\tequipmentProfile: function(name, tab) {\n\t\tif (!_.contains([\"details\", \"cylinder-configuration\", \"driver-data\", \"site-data\", \"devices\"], tab))\n\t\t\twindow.location.hash = \"/equipment-profile/\" + name + \"/details\";\n\t\t\n\t\tReact.renderComponent(new EquipmentProfile({\n\t\t\tname: name.replace(/_/g, \" \"),\n\t\t\ttab: tab\n\t\t}), this.container);\n\t}\n});\n\nmodule.exports = Controller;","/* jshint node: true */\n\"use strict\";\n\nvar Dispatcher = require(\"flux\").Dispatcher;\n\nmodule.exports = new Dispatcher();","module.exports = new EventEmitter();","Array.prototype.dict = function(prop) {\n    var obj = {};\n    for (var i = 0; i < this.length; i++)\n        obj[this[i][prop]] = this[i];\n    return obj;\n};","[\"string\", \"array\"].forEach(function(location) {\n    require(\"extensions/\" + location);  \n});","String.prototype.endsWith = function(value) {\n\tif (value.length > this.length)\n\t\treturn false;\n\treturn value.length <= this.length && this.substr(this.length - value.length, value.length) === value;\n};","/* jshint node: true */\n\"use strict\";\n\nrequire(\"extensions\");\nrequire(\"stores\");\n\nvar Routes = require(\"routes\");\n\n$(function () {\n    React.renderComponent(new Routes(), document.body);\n});","var validation = require(\"utilities/validation\");\n\nmodule.exports = function(methods) {\n\tvar model = Backbone.Model.extend({\n\t\tvalidate: methods.validate || function() {\n\t\t\treturn [];\n\t\t},\n\n\t\tall: function() {\n\t\t\tvar all = {};\n\t\t\tfor (var name in this.attributes)\n\t\t\t\tall[name] = false;\n\t\t\treturn all;\n\t\t}\n\t});\n\t\n\treturn model;\n};","/** @jsx React.DOM */\n/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    render: function() {\n        return React.DOM.div(null, \n            React.DOM.span(null, \"blah\")\n        );\n    }\n});","/** @jsx React.DOM */\nvar React = require(\"react\"),\n    Routes = require(\"react-router\").Routes,\n    Route = require(\"react-router\").Route,\n    \n    Test = require(\"pages/test\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    render: function() {\n        return Routes({location: \"hash\"}, \n            Route({name: \"test\", handler: Test})\n        );\n    }\n});","/* jshint node: true */\n\"use strict\";\n\nvar Config = require(\"config\"),\n\tBackbone = require(\"backbone\"),\n\t\n\temitter = require(\"dispatcher/emitter\"),\n\tdispatcher = require(\"dispatcher/dispatcher\");\n\nmodule.exports = function(model, constants, url, options) {\n\tvar me = this;\n\tvar Collection = Backbone.Collection.extend({ model: model, url: url });\n\t\n\tvar _collection = new Collection,\n\t\t_registrants = {},\n\t\t_history = [],\n\t\t_sort = \"name\",\n\t\t_loaded = false;\n\t\n\tif (options && options.sort)\n\t\t_sort = options.sort;\n\tif (!(_sort instanceof Array))\n\t\t_sort = [_sort];\n\t\n\t_collection.comparator = _buildSortMethod(_sort);\n\t\n\tthis.all = function(filter) {\n\t\tvar me = this;\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\t_collection.fetch({\n\t\t\t\tdata: filter,\n\t\t\t\tsuccess: function(result, response) {\n\t\t\t\t\tvar models = result.models;\n\t\t\t\t\tresolve(models);\n\t\t\t\t\t_loaded = true;\n\t\t\t\t\tme.notify();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\t\n\tthis.update = function(content) {\n\t\tvar me = this;\n\t\treturn new Promise(function(resolve) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar model = _.find(_collection.models, function(x) { return x.get(\"id\") === content.get(\"id\"); });\n\t\t\t\tfor (var name in model.attributes)\n\t\t\t\t\tmodel.set(name, content.get(name));\n\t\t\t\tresolve();\n\t\t\t\tme.notify();\n\t\t\t}, 500);\n\t\t});\n\t};\n\t\t\t\t\t\t   \n\tthis.create = function(content) {\n\t\tvar me = this;\n\t\treturn new Promise(function(resolve) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tcontent.set(\"id\", _.sortBy(_collection.models, function(x) { return x.id; })[_collection.models.length-1].get(\"id\") + 1);\n\t\t\t\t_collection.add(content);\n\t\t\t\tresolve();\n\t\t\t\tme.notify();\n\t\t\t}, 500);\n\t\t});\n\t};\n\t\n\tthis.remove = function(content) {\n\t\tvar me = this;\n\t\treturn new Promise(function(resolve) {\n\t\t\tsetTimeout(function() {\n\t\t\t\t_collection.models = _.without(_collection.models, _.findWhere(_collection.models, { id: content.id }));\n\t\t\t\tresolve();\n\t\t\t\tme.notify();\n\t\t\t}, 500);\n\t\t});\n\t};\n\t\n\tthis.register = function(key, registrants) {\n\t\tif (!(registrants instanceof Array))\n\t\t\tregistrants = [registrants];\n\t\t\n\t\tif (_registrants[key] === undefined)\n\t\t\t_registrants[key] = [];\n\t\t\n\t\t_registrants[key] = _registrants[key].concat(registrants);\n\t};\n\t\n\tthis.registerAndNotify = function(key, registrants) {\n\t\tthis.register(key, registrants);\n\t\tthis.notify();\n\t};\n\t\n\tthis.notify = function() {\n\t\tif (!_loaded)\n\t\t\treturn;\n\t\t\n\t\t_collection.sort();\n\t\tfor (var name in _registrants)\n\t\t\t_.each(_registrants[name], function(registrant) {\n\t\t\t\tif (registrant !== undefined)\n\t\t\t\t\tregistrant(_collection.models);\n\t\t\t});\n\t}\n\t\n\tthis.unregister = function(key) {\n\t\tdelete _registrants[key];\n\t};\n\t\n\tdispatcher.register(function(payload) {\n\t\tswitch (payload.type) {\n\t\t\tcase constants.ALL:\n\t\t\t\tme.all(payload.content);\n\t\t\t\tbreak;\n\t\t\tcase constants.UPDATE:\n\t\t\t\tme.update(payload.content);\n\t\t\t\tbreak;\n\t\t\tcase constants.CREATE:\n\t\t\t\tme.create(payload.content);\n\t\t\t\tbreak;\n\t\t\tcase constants.REMOVE:\n\t\t\t\tme.remove(payload.content);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\tfunction _buildSortMethod(sort) {\n\t\treturn function(model) {\n\t\t\tvar joined = \"\";\n\t\t\t_.each(sort, function(s) {\n\t\t\t\tvar current = model.get(s);\n\t\t\t\tif (current.toLowerCase)\n\t\t\t\t\tcurrent = current.toLowerCase();\n\t\t\t\tjoined += current;\n\t\t\t});\n\t\t\treturn joined;\n\t\t};\n\t}\n};","var _ = require(\"underscore\");\n\n_.each([\n    \n], function(location) {\n    require(\"stores/\" + location);\n});","var _ = require(\"underscore\");\n\nmodule.exports = {\n\thandle: function(model) {\n\t\tvar result = {}, flags = model.all(), errors = model.validate(), count = 0, message = \"\";\n\t\t_.each(errors, function(error) {\n\t\t\tflags[error.key] = true;\n\t\t\tmessage = ++count === 1 ? error.message : \"Please fix the outlined fields.\";\n\t\t});\n\t\t\n\t\treturn { flags: flags, message: message, any: count > 0 };\n\t}\n}","module.exports = {\n\trequired: function(value) {\n\t\treturn value !== undefined && value !== \"\";\n\t},\n\t\n\tphone: function(value) {\n\t\tif (value)\n\t\t\tvalue = value.replace(/[\\D]/g, \"\");\n\t\treturn value === undefined || value.length === 10;\n\t},\n\t\n\temail: function(value) {\n\t\treturn new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(value);\n\t},\n\t\n\tpositiveNumber: function(value) {\n\t\tif (value === undefined || value === \"\")\n\t\t\treturn true;\n\t\t\n\t\tvalue = parseInt(value);\n\t\treturn !isNaN(value) && value >= 1;\n\t}\n}"]}